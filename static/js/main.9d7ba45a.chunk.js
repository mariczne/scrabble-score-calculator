(this["webpackJsonpscrabble-score-calculator"]=this["webpackJsonpscrabble-score-calculator"]||[]).push([[0],[,,,,function(e,t,r){},,,,,function(e,t,r){e.exports=r(16)},,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(5),s=r.n(o),i=(r(14),r(1)),l=r(2),u=r(7),c=r(6),d=r(8),g={double:2,triple:3},h={DE:{displayName:"Deutsch",0:[" "],1:["E","N","S","I","R","T","U","A","D"],2:["H","G","L","O"],3:["M","B","W","Z"],4:["C","F","K","P"],6:["\xc4","J","\xdc","V"],8:["\xd6","X"],10:["Q","Y"]},EN:{displayName:"English",0:[" "],1:["E","A","I","O","N","R","T","L","S","U"],2:["D","G"],3:["B","C","M","P"],4:["F","H","V","W","Y"],5:["K"],8:["J","X"],10:["Q","Z"]},ES:{displayName:"espa\xf1ol",digraphs:[["C","H"],["L","L"],["R","R"]],0:[" "],1:["A","E","O","I","S","N","R","U","L","T"],2:["D","G"],3:["C","B","M","P"],4:["H","F","V","Y"],5:["CH","Q"],8:["J","LL","\xd1","RR","X"],10:["Z"]},FR:{displayName:"fran\xe7ais",0:[" "],1:["E","A","I","N","O","R","S","T","U","L"],2:["D","M","G"],3:["B","C","P"],4:["F","H","V"],8:["J","Q"],10:["K","W","X","Y","Z"]},IT:{displayName:"italiano",0:[" "],1:["O","A","I","E"],2:["C","R","S","T"],3:["L","M","N","U"],5:["B","D","F","P","V"],8:["G","H","Z"],10:["Q"]},HU:{displayName:"magyar",digraphs:[["S","Z"],["G","Y"],["N","Y"],["C","S"],["L","Y"],["Z","S"],["T","Y"]],0:[" "],1:["A","E","K","T","\xc1","L","N","R","I","M","O","S"],2:["B","D","G","\xd3"],3:["\xc9","H","SZ","V"],4:["F","GY","J","\xd6","P","U","\xdc","Z"],5:["C","\xcd","NY"],7:["CS","\u0150","\xda","\u0170"],8:["LY","ZS"],10:["TY"]},PL:{displayName:"polski",0:[" "],1:["A","I","E","O","N","Z","R","S","W"],2:["Y","C","D","K","L","M","P","T"],3:["B","G","H","J","\u0141","U"],5:["\u0104","\u0118","F","\xd3","\u015a","\u017b"],6:["\u0106"],7:["\u0143"],9:["\u0179"]},PT:{displayName:"portugu\xeas",0:[" "],1:["A","E","I","O","S","U","M","R","T"],2:["D","L","C","P"],3:["N","B","\xc7"],4:["F","G","H","V"],5:["J"],6:["Q"],8:["X","Z"]},RU:{displayName:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",0:[" "],1:["\u041e","\u0410","\u0415","\u0418","\u041d","\u0420","\u0421","\u0422","\u0412"],2:["\u0414","\u041a","\u041b","\u041f","\u0423","\u041c"],3:["\u0411","\u0413","\u042c","\u042f","\u0401"],4:["\u042b","\u0419"],5:["\u0417","\u0416","\u0425","\u0426","\u0427"],8:["\u0428","\u042d","\u042e"],10:["\u0424","\u0429","\u042a"]},UA:{displayName:"\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",0:[" "],1:["\u041e","\u0410","\u0418","\u041d","\u0412","\u0415","\u0406","\u0422","\u0420"],2:["\u041a","\u0421","\u0414","\u041b","\u041c","\u041f"],3:["\u0423"],4:["\u0417","\u042f","\u0411","\u0413"],5:["\u0427","\u0425","\u0419","\u042c"],6:["\u0416","\u0407","\u0426","\u0428"],7:["\u042e"],8:["\u0404","\u0424","\u0429"],10:["\u0490","'"]}},p=function(){function e(t,r){if(Object(i.a)(this,e),"string"!==typeof t||"string"!==typeof r)throw new TypeError("Both arguments have to be of type 'string'");if(!h.hasOwnProperty(r))throw new RangeError("Unsupported language");this.character=t,this.languageCode=r,this._scoreMultiplier=1}return Object(l.a)(e,[{key:"score",get:function(){var e=this;return Number(Object.keys(h[this.languageCode]).find((function(t){return h[e.languageCode][t].includes(e.character.toUpperCase())})))*this._scoreMultiplier}},{key:"scoreMultiplier",set:function(e){if(!Number.isInteger(e))throw new TypeError("Argument has to be an integer");if(e<1||e>3)throw new RangeError("Argument has to be between ".concat(1," and ").concat(3));this._scoreMultiplier=e},get:function(){return this._scoreMultiplier}}]),e}(),f=function(){function e(t,r){if(Object(i.a)(this,e),"string"!==typeof t||"string"!==typeof r)throw new TypeError("Both arguments have to be of type 'string'");if(!h.hasOwnProperty(r))throw new RangeError("Unsupported language");this.languageCode=r,this.letters=this.createLettersFromInput(t),this.bonusesUsed={},this.isBingoUsed=!1}return Object(l.a)(e,[{key:"createLettersFromInput",value:function(e){var t=this,r=Array.from(e.toUpperCase());return h[this.languageCode].digraphs&&this.checkForDigraphs(r),r.map((function(e){return new p(e,t.languageCode)}))}},{key:"checkForDigraphs",value:function(e){for(var t=0;t<e.length;t++){var r=!0,n=!1,a=void 0;try{for(var o,s=h[this.languageCode].digraphs[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var i=o.value;e[t]===i[0]&&e[t+1]===i[1]&&(e[t]=e[t]+e[t+1],e.splice(t+1,1))}}catch(l){n=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}}}},{key:"isAnyLetterInvalid",value:function(){return this.letters.some((function(e){return!Number.isInteger(e.score)}))}},{key:"isNextWordBonusAllowed",value:function(){var e=0;for(var t in this.bonusesUsed)e+=this.bonusesUsed[t];var r=!0,n=!1,a=void 0;try{for(var o,s=this.letters[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){o.value.scoreMultiplier>1&&e++}}catch(i){n=!0,a=i}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}return this.letters.length>e}},{key:"addBonus",value:function(e){this.isNextWordBonusAllowed()&&(this.bonusesUsed.hasOwnProperty(e)?this.bonusesUsed[e]++:this.bonusesUsed[e]=1)}},{key:"isBingoAllowed",value:function(){return this.letters.length>=7}},{key:"toggleBingo",value:function(){this.isBingoAllowed()&&(this.isBingoUsed=!this.isBingoUsed)}},{key:"score",get:function(){return 0===this.letters.length?0:this.isAnyLetterInvalid()?NaN:this.letters.map((function(e){return e.score})).reduce((function(e,t){return e+t}))*this.multiplierTotal+(this.isBingoUsed?50:0)}},{key:"multiplierTotal",get:function(){var e=1;for(var t in this.bonusesUsed)e*=this.bonusesUsed[t]*g[t];return e}}]),e}();r(4);function m(e){var t=e.index,r=e.character,n=e.score,o=e.scoreMultiplier,s=e.cycleLetterBonus;function i(){return Number.isNaN(n)}return a.a.createElement("div",{className:"tile",style:function(){var e={};return i()?e.backgroundColor="lightgray":2===o?e.backgroundColor="#6cf":3===o&&(e.backgroundColor="#06f",e.color="white"),e}(),onClick:function(){return s(t)}},a.a.createElement("span",{className:"tile__letter ".concat(2===r.length?"tile__letter--double":null)},r.toUpperCase()),a.a.createElement("span",{className:"tile__letter-score"}," "===r?null:i()?"?":n))}m.defaultProps={character:" ",score:"?",scoreMultiplier:1};var b=m;var y=function(e){var t=e.bonusType,r=e.timesUsed,n=e.handleWordBonus,o=e.isNextWordBonusAllowed,s=e.isBingoAllowed,i=e.isBingoUsed;return a.a.createElement("div",{className:"tile",style:function(){var e={};if(o||"bingo"===t)switch(t){case"double":e.backgroundColor="#f9f";break;case"triple":e.backgroundColor="#f00";break;case"bingo":s?e.backgroundColor="orange":(e.backgroundColor="lightgray",e.cursor="default")}else e.backgroundColor="lightgray",e.cursor="default";return e}(),onClick:function(){return n(t)}},a.a.createElement("span",{className:"tile__bonus-name"},function(){switch(t){case"double":return"DOUBLE WORD SCORE";case"triple":return"TRIPLE WORD SCORE";case"bingo":return"BINGO";default:return null}}()),"bingo"===t&&i?a.a.createElement("span",{className:"tile__bonus-state"},"ACTIVE"):r>0?a.a.createElement("span",{className:"tile__bonus-state"},"x",r):null)},w=(r(15),function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(r=Object(u.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={input:"",languageCode:localStorage.getItem("languageCode")||"EN",word:new f("",localStorage.getItem("languageCode")||"EN")},r.handleInputChange=function(e){r.setState({input:e.target.value},(function(){return r.updateWord()}))},r.handleLanguageChange=function(e){localStorage.setItem("languageCode",e.target.value),r.setState({languageCode:e.target.value},(function(){return r.updateWord()}))},r.updateWord=function(){var e=r.state,t=e.input,n=e.languageCode;r.setState({word:new f(t,n)})},r.cycleLetterBonus=function(e){var t=r.state.word,n=t.letters[e];3===n.scoreMultiplier?n.scoreMultiplier=1:n.scoreMultiplier++,r.setState({word:t})},r.handleWordBonus=function(e){var t=r.state.word;"bingo"===e?t.toggleBingo():t.addBonus(e),r.setState({word:t})},r.renderLetterTiles=function(){return r.state.word.letters.map((function(e,t){return a.a.createElement(b,{key:t,index:t,character:e.character,score:e.score,scoreMultiplier:e.scoreMultiplier,cycleLetterBonus:r.cycleLetterBonus})}))},r.renderWordScore=function(){var e=r.state.word;return Number.isNaN(e.score)?"At least one invalid letter":a.a.createElement("span",{"data-testid":"word-score"},e.score)},r.renderLanguageOptions=function(){var e=[];for(var t in h)e.push(a.a.createElement("option",{key:t,value:t},h[t].displayName));return e},r}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.input,r=e.word,n=e.languageCode;return a.a.createElement("div",{className:"App"},"Language:",a.a.createElement("select",{value:n,onChange:this.handleLanguageChange,className:"lang-select","data-testid":"lang-select"},this.renderLanguageOptions()),a.a.createElement("input",{type:"search",value:t,onChange:this.handleInputChange,className:"word-input","data-testid":"word-input",placeholder:"Type a word to start"}),a.a.createElement("div",null,a.a.createElement(y,{bonusType:"double",timesUsed:r.bonusesUsed.double,handleWordBonus:this.handleWordBonus,isNextWordBonusAllowed:r.isNextWordBonusAllowed()}),a.a.createElement(y,{bonusType:"triple",timesUsed:r.bonusesUsed.triple,handleWordBonus:this.handleWordBonus,isNextWordBonusAllowed:r.isNextWordBonusAllowed()}),a.a.createElement(y,{bonusType:"bingo",handleWordBonus:this.handleWordBonus,isBingoAllowed:r.isBingoAllowed(),isBingoUsed:r.isBingoUsed})),a.a.createElement("div",null,this.renderLetterTiles()),"Score: ",this.renderWordScore(),a.a.createElement("p",null,"Click on a tile to toggle its letter bonus"),a.a.createElement("p",null,"All bonuses get reset when user input changes"),a.a.createElement("p",null,"A blank tile can be entered by using the spacebar"),a.a.createElement("p",null,"Bingo can be activated when there are at least 7 tiles used"),a.a.createElement("p",null,a.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Scrabble#Scoring"},"Scrabble scoring rules")),a.a.createElement("footer",{style:{fontSize:"x-small"}},"SCRABBLE\xae is a registered trademark and all intellectual property rights are owned by their respective owners: Hasbro, Zynga, J.W. Spear & Mattel, etc."))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.9d7ba45a.chunk.js.map