(this["webpackJsonpscrabble-score-calculator"]=this["webpackJsonpscrabble-score-calculator"]||[]).push([[0],[,,,,,,function(e,n,t){e.exports=t(14)},,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(5),o=t.n(l),u=(t(11),t(2)),i=[{name:"double",multiplier:2},{name:"triple",multiplier:3}],c=i.reduce((function(e,n){return n.multiplier>e?n.multiplier:e}),1),s={MAX_LETTER_SCORE_MULTIPLIER:3,POINTS_FOR_BINGO:50,MINIMUM_LETTERS_FOR_BINGO:7,WORD_SCORE_MULTIPLIERS:i,MAX_WORD_SCORE_MULTIPLIER:c},d={deu:{displayName:"Deutsch",0:[" "],1:["E","N","S","I","R","T","U","A","D"],2:["H","G","L","O"],3:["M","B","W","Z"],4:["C","F","K","P"],6:["\xc4","J","\xdc","V"],8:["\xd6","X"],10:["Q","Y"]},gwi:{displayName:"Dinju Zhuh K\u02bcyuu",multigraphs:[["A","I","I"],["A","\u012e","\u012e"],["T","T","H"],["D","D","H"],["K","H","W"],["S","H","R"],["Z","H","R"],["A","A"],["C","H"],["E","E"],["\u0104","\u0104"],["I","I"],["\u0118","\u0118"],["\u012e","\u012e"],["O","O"],["\u01ea","\u01ea"],["T","H"],["U","U"],["\u0172","\u0172"],["T","S"],["T","R"],["D","H"],["G","H"],["K","H"],["S","H"],["T","\u0141"],["G","W"],["Z","H"],["D","R"],["K","W"],["D","L"],["D","Z"]],0:[" "],1:["\u02bc","I","A","N","T","H","\u0104","E","\u0118","\u012e","O","\u01ea","U","\u0172"],2:["AA","CH","EE","\u0104\u0104","II","\u0118\u0118","\u012e\u012e","OO","\u01ea\u01ea","TH","UU","\u0172\u0172"],3:["AII","A\u012e\u012e","D","G","K","R","Y","S","TTH","W"],4:["TS","L","\u0141","TR","DH","GH","KH","SH"],5:["J","T\u0141","V","Z"],6:["GW","ZH","DR","KW"],7:["DL","DDH","KHW","SHR"],8:["DZ"],9:["ZHR"],10:["B","F","M"]},eng:{displayName:"English",0:[" "],1:["E","A","I","O","N","R","T","L","S","U"],2:["D","G"],3:["B","C","M","P"],4:["F","H","V","W","Y"],5:["K"],8:["J","X"],10:["Q","Z"]},spa:{displayName:"espa\xf1ol",multigraphs:[["C","H"],["L","L"],["R","R"]],0:[" "],1:["A","E","O","I","S","N","R","U","L","T"],2:["D","G"],3:["C","B","M","P"],4:["H","F","V","Y"],5:["CH","Q"],8:["J","LL","\xd1","RR","X"],10:["Z"]},fra:{displayName:"fran\xe7ais",0:[" "],1:["E","A","I","N","O","R","S","T","U","L"],2:["D","M","G"],3:["B","C","P"],4:["F","H","V"],8:["J","Q"],10:["K","W","X","Y","Z"]},ita:{displayName:"italiano",0:[" "],1:["O","A","I","E"],2:["C","R","S","T"],3:["L","M","N","U"],5:["B","D","F","P","V"],8:["G","H","Z"],10:["Q"]},hun:{displayName:"magyar",multigraphs:[["S","Z"],["G","Y"],["N","Y"],["C","S"],["L","Y"],["Z","S"],["T","Y"]],0:[" "],1:["A","E","K","T","\xc1","L","N","R","I","M","O","S"],2:["B","D","G","\xd3"],3:["\xc9","H","SZ","V"],4:["F","GY","J","\xd6","P","U","\xdc","Z"],5:["C","\xcd","NY"],7:["CS","\u0150","\xda","\u0170"],8:["LY","ZS"],10:["TY"]},pol:{displayName:"polski",0:[" "],1:["A","I","E","O","N","Z","R","S","W"],2:["Y","C","D","K","L","M","P","T"],3:["B","G","H","J","\u0141","U"],5:["\u0104","\u0118","F","\xd3","\u015a","\u017b"],6:["\u0106"],7:["\u0143"],9:["\u0179"]},por:{displayName:"portugu\xeas",0:[" "],1:["A","E","I","O","S","U","M","R","T"],2:["D","L","C","P"],3:["N","B","\xc7"],4:["F","G","H","V"],5:["J"],6:["Q"],8:["X","Z"]},rus:{displayName:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",0:[" "],1:["\u041e","\u0410","\u0415","\u0418","\u041d","\u0420","\u0421","\u0422","\u0412"],2:["\u0414","\u041a","\u041b","\u041f","\u0423","\u041c"],3:["\u0411","\u0413","\u042c","\u042f","\u0401"],4:["\u042b","\u0419"],5:["\u0417","\u0416","\u0425","\u0426","\u0427"],8:["\u0428","\u042d","\u042e"],10:["\u0424","\u0429","\u042a"]},ukr:{displayName:"\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",0:[" "],1:["\u041e","\u0410","\u0418","\u041d","\u0412","\u0415","\u0406","\u0422","\u0420"],2:["\u041a","\u0421","\u0414","\u041b","\u041c","\u041f"],3:["\u0423"],4:["\u0417","\u042f","\u0411","\u0413"],5:["\u0427","\u0425","\u0419","\u042c"],6:["\u0416","\u0407","\u0426","\u0428"],7:["\u042e"],8:["\u0404","\u0424","\u0429"],10:["\u0490","'"]}};function g(e){if(!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return n.some((function(n){return n.multiplier===e}))}(e))throw new RangeError("No ".concat(e,"x word bonus in the score table"))}function p(e,n){var t=n.languageCode,a=n.minTilesForBingo;if(!b(e,{languageCode:t,minTilesForBingo:a}))throw new Error}function m(e){if(!function(e){var n=e.scoreTable,t=void 0===n?d:n,a=e.languageCode;return t.hasOwnProperty(a)}(e))throw new RangeError("Unsupported language")}var b=function(e,n){var t=n.languageCode,a=n.minTilesForBingo,r=void 0===a?7:a;return N(e,{languageCode:t}).length>=r},E=t(3);function f(e,n){for(var t=function(t){if(n.every((function(n,a){return n===e[t+a]})))return{v:t}},a=0;a<e.length-n.length+1;++a){var r=t(a);if("object"===typeof r)return r.v}return-1}function y(e,n){return-1===f(e,n)?Object(E.a)(e):y(function(e,n){var t=f(e,n);return-1!==t?[].concat(Object(E.a)(e.slice(0,t)),[n.join("")],Object(E.a)(e.slice(t+n.length,e.length))):Object(E.a)(e)}(e,n),n)}function C(e){var n=e.scoreTable,t=e.languageCode;return m({scoreTable:n,languageCode:t}),n[t].hasOwnProperty("multigraphs")}function O(e){var n,t=e.scoreTable,a=e.languageCode;return C({scoreTable:t,languageCode:a})?(n=Object(E.a)(t[a].multigraphs),Object(E.a)(n).sort((function(e,n){return n.length-e.length}))):[]}var v=function(e,n){var t=n.languageCode,a=n.scoreTable,r=void 0===a?d:a,l=n.bonuses,o=void 0===l?[]:l,u=n.isBingoUsed,i=void 0!==u&&u;if(!e)return 0;i&&p(e,{languageCode:t}),m({scoreTable:r,languageCode:t}),function(e,n){var t=n.languageCode;if(n.bonuses.length>N(e,{languageCode:t}).length)throw new Error}(e,{languageCode:t,bonuses:o});var c=function(e){return e.filter((function(e){return"tile"===e.type}))}(o),s=function(e){return e.filter((function(e){return"word"===e.type}))}(o);return N(e,{scoreTable:r,languageCode:t}).map((function(e,n){var a,r;return I(e,{languageCode:t,multiplier:null!==(a=null===(r=c.find((function(e){return e.index===n})))||void 0===r?void 0:r.multiplier)&&void 0!==a?a:1})})).reduce((function(e,n){return e+n}))*function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,n){return g(n.multiplier),e*n.multiplier}),1)}(s)+(i?50:0)},I=function(e,n){var t=n.languageCode,a=n.scoreTable,r=void 0===a?d:a,l=n.multiplier,o=void 0===l?1:l;return m({scoreTable:r,languageCode:t}),Number(Object.keys(r[t]).find((function(n){return r[t][n].includes(e.toUpperCase())})))*o},N=function(e,n){var t=n.languageCode,a=n.scoreTable,r={scoreTable:void 0===a?d:a,languageCode:t};m(r);var l,o=Array.from(e.toUpperCase());return C(r)?(l=o,O(r).reduce((function(e,n){return y(e,n)}),l)):o},T=t(1);function R(e,n){switch(n.type){case"SET_INPUT":var t=n.payload.input;return Object(T.a)({},e,{input:t,bonuses:e.bonuses.filter((function(e){return e.index<t.length})),isBingoUsed:t.length>=7&&e.isBingoUsed});case"CHANGE_LANGUAGE":var a=n.payload.language;return Object(T.a)({},e,{language:a});case"ADD_TILE_BONUS":var r=n.payload.tileIndex;return Object(T.a)({},e,{bonuses:[].concat(Object(E.a)(e.bonuses),[{type:"tile",index:r,multiplier:2}])});case"INCREMENT_TILE_MULTIPLIER":var l=n.payload.tileIndex;return Object(T.a)({},e,{bonuses:e.bonuses.map((function(e){return e.index===l?Object(T.a)({},e,{multiplier:e.multiplier+1}):e}))});case"ADD_WORD_MULTIPLIER":var o=n.payload.tileIndex;return Object(T.a)({},e,{bonuses:e.bonuses.map((function(e){return e.index===o?Object(T.a)({},e,{type:"word",multiplier:2}):e}))});case"INCREMENT_WORD_MULTIPLIER":var u=n.payload.tileIndex;return Object(T.a)({},e,{bonuses:e.bonuses.map((function(e){return e.index===u?Object(T.a)({},e,{multiplier:e.multiplier+1}):e}))});case"REMOVE_WORD_MULTIPLIER":var i=n.payload.tileIndex;return Object(T.a)({},e,{bonuses:e.bonuses.filter((function(e){return e.index!==i}))});case"TOGGLE_BINGO":return Object(T.a)({},e,{isBingoUsed:!e.isBingoUsed});case"RESET_WORD":return Object(T.a)({},e,{input:"",bonuses:[],isBingoUsed:!1});default:return e}}var _={input:"",language:"eng",bonuses:[],isBingoUsed:!1},h=Object(a.createContext)(_);function L(e){var n=Object(a.useReducer)(R,_),t=Object(u.a)(n,2),l=t[0],o=t[1];return r.a.createElement(h.Provider,Object.assign({value:{wordReducer:[l,o],SETTINGS:s,BINGO_NAME:"Bingo"}},e))}var U=s.MAX_LETTER_SCORE_MULTIPLIER,B=s.MAX_WORD_SCORE_MULTIPLIER;var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return Array.from(Object.keys(e)).map((function(n){return{languageCode:n,displayName:e[n].displayName}}))}();function S(){var e=Object(a.useContext)(h),n=Object(u.a)(e.wordReducer,2),t=n[0],l=n[1];return r.a.createElement(r.a.Fragment,null,"Language:",r.a.createElement("select",{value:t.language,onChange:function(e){return l({type:"CHANGE_LANGUAGE",payload:{language:e.target.value}})},className:"lang-select","data-testid":"lang-select"},w.map((function(e){var n=e.languageCode,t=e.displayName;return r.a.createElement("option",{key:n,value:n},t)}))))}function A(){var e=Object(a.useContext)(h),n=Object(u.a)(e.wordReducer,2),t=n[0],l=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:t.input,onChange:function(e){return l({type:"SET_INPUT",payload:{input:e.target.value}})},className:"word-input","data-testid":"word-input",placeholder:"Type a word to start"}),t.input&&r.a.createElement("button",{onClick:function(){return l({type:"RESET_WORD"})},className:"word-reset"},"Reset"))}var D={2:{backgroundColor:"#6cf",color:"black"},3:{backgroundColor:"#09f",color:"black"}},M={2:{backgroundColor:"#f9f",color:"black"},3:{backgroundColor:"#f66",color:"black"}};function j(e){var n=e.index,t=e.character,a=e.score,l=e.bonus,o=e.cycleLetterBonus,u=Number.isNaN(a),i=" "===t,c=2===t.length,s=3===t.length;var d="tile__letter ".concat(c?"tile__letter--double":null," ").concat(s?"tile__letter--triple":null);return r.a.createElement("div",{className:"tile",style:function(){if(u)return{backgroundColor:"lightgray",cursor:"default"};switch(l.type){case"tile":return D[l.multiplier];case"word":return M[l.multiplier];default:return{backgroundColor:"antiquewhite"}}}(),onClick:function(){return o(n)},onKeyDown:function(e){return"Enter"===e.key?o(n):null},tabIndex:"0"},r.a.createElement("span",{className:d},t.toUpperCase()),r.a.createElement("span",{className:"tile__letter-score"},i?null:u?"?":a))}j.defaultProps={index:0,character:" ",score:null,scoreMultiplier:1,cycleLetterBonus:function(){}};var k={letter:{double:{backgroundColor:"#6cf"},triple:{backgroundColor:"#09f"}},word:{double:{backgroundColor:"#f9f"},triple:{backgroundColor:"#f66"}}};function x(e){var n=e.type,t=e.name;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tile tile--bonus",style:k[n][t]},r.a.createElement("span",{className:"tile__bonus-name"},"".concat(t.toUpperCase()," ").concat(n.toUpperCase()," SCORE"))))}x.defaultProps={type:"letter",name:"double"};var G={backgroundColor:"orange"},H={backgroundColor:"lightgray",cursor:"default"};function P(e){var n=e.bingoName,t=e.toggleBingo,a=e.isBingoAllowed,l=e.isBingoUsed,o=e.textWhenBingoUsed;return r.a.createElement("div",{className:"tile",style:a?G:H,onClick:t,onKeyDown:function(e){return"Enter"===e.key?t():null},tabIndex:"0"},r.a.createElement("span",{className:"tile__bonus-name"},n.toUpperCase()),l&&r.a.createElement("span",{className:"tile__bonus-state"},o))}P.defaultProps={bingoName:"Bingo",toggleBingo:function(){},isBingoAllowed:!1,isBingoUsed:!1,textWhenBingoUsed:"ACTIVE"};t(12);function W(){var e=Object(a.useContext)(h),n=Object(u.a)(e.wordReducer,2),t=n[0],l=n[1],o=N(t.input,{languageCode:t.language});function i(e){var n,a;return null!==(n=null===(a=t.bonuses.find((function(n){return n.index===e&&"tile"===n.type})))||void 0===a?void 0:a.multiplier)&&void 0!==n?n:1}function c(e){var n=t.bonuses.find((function(n){return n.index===e}));return n?{type:n.type,multiplier:n.multiplier}:{type:"none",multiplier:1}}return r.a.createElement("div",null,o.map((function(e,n){return r.a.createElement(j,{key:n,index:n,character:e,score:I(e,{languageCode:t.language,multiplier:i(n)}),bonus:c(n),cycleLetterBonus:function(){return l(function(e,n){var t=e.bonuses.find((function(e){return e.index===n}));return t?"tile"===t.type?t.multiplier===U?{type:"ADD_WORD_MULTIPLIER",payload:{tileIndex:n}}:{type:"INCREMENT_TILE_MULTIPLIER",payload:{tileIndex:n}}:"word"===t.type?t.multiplier===B?{type:"REMOVE_WORD_MULTIPLIER",payload:{tileIndex:n}}:{type:"INCREMENT_WORD_MULTIPLIER",payload:{tileIndex:n}}:{type:"ACTION_CANCELLED"}:{type:"ADD_TILE_BONUS",payload:{tileIndex:n}}}(t,n))}})})))}function F(){var e=Object(a.useContext)(h),n=Object(u.a)(e.wordReducer,1)[0],t=v(n.input,{languageCode:n.language,bonuses:n.bonuses,isBingoUsed:n.isBingoUsed}),l=Number.isNaN(t);return r.a.createElement("span",{className:"word-score"},"Word score:"," ",l?"At least one tile invalid":r.a.createElement("span",{"data-testid":"word-score-value"},t))}function Z(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return e.map((function(e){return e.name}))}().map((function(e){return{name:e,type:"word"}})),n=Object(a.useContext)(h),t=Object(u.a)(n.wordReducer,2),l=t[0],o=t[1],c=n.SETTINGS.POINTS_FOR_BINGO,s=n.BINGO_NAME,d=c>0;return r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(P,{key:s,bingoName:s,toggleBingo:function(){return o(function(e){try{return p(e.input,{languageCode:e.language}),{type:"TOGGLE_BINGO"}}catch(n){return{type:"ACTION_CANCELLED"}}}(l))},isBingoAllowed:b(l.input,{languageCode:l.language}),isBingoUsed:l.isBingoUsed,textWhenBingoUsed:"ACTIVE"}),[{name:"double",type:"letter"},{name:"triple",type:"letter"}].map((function(e){return r.a.createElement(x,{key:"letter_".concat(e.name),type:e.type,name:e.name})})),e.map((function(e){return r.a.createElement(x,{key:"word_".concat(e.name),type:e.type,name:e.name})})))}function K(){var e=Object(a.useContext)(h),n=e.SETTINGS,t=n.POINTS_FOR_BINGO,l=n.MINIMUM_LETTERS_FOR_BINGO,o=e.BINGO_NAME,u=t>0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Possible bonuses:"),r.a.createElement(Z,null),r.a.createElement("p",null,"Click on a tile to cycle its bonus"),r.a.createElement("p",null,"A blank tile can be entered by using the spacebar"),u&&r.a.createElement("p",null,o," can be activated when there are at least"," ",l," tiles used"),r.a.createElement("p",null,"There cannot be more word + letter bonuses than letters in a word"),r.a.createElement("p",null,r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Scrabble#Scoring"},"Scrabble scoring rules")))}var Y={fontSize:"0.625rem"};function V(){return r.a.createElement("footer",{style:Y},"SCRABBLE\xae is a registered trademark and all intellectual property rights are owned by their respective owners: Hasbro, Zynga, J.W. Spear & Mattel, etc.")}t(13);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(){return r.a.createElement("div",{className:"App"},r.a.createElement(L,null,r.a.createElement(S,null),r.a.createElement(A,null),r.a.createElement(W,null),r.a.createElement(F,null),r.a.createElement(K,null),r.a.createElement(V,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[6,1,2]]]);
//# sourceMappingURL=main.d91d312b.chunk.js.map